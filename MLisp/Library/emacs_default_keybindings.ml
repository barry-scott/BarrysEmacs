;
; EMACS_DEFAULT_KEYBINDINGS.ML for EMACS V8.0
;
; This file defines all the default key settings that EMACS uses.
;
;
; Initialize default-global-keymap. First set it to self-insert
;

(use-global-map "default-global-keymap")
(error-occurred (execute-mlisp-file "escape_sequence_strings"))

; default to self insert for every thing
(bind-to-key "self-insert" "\[default]")

(define-keymap "ESC-prefix")
(define-keymap "^X-prefix")
(bind-to-key "ESC-prefix" "\e")
(bind-to-key "^X-prefix" "\^x")
(bind-to-key "apropos" "\e?")
(bind-to-key "apropos-variable" "\^x?")
(bind-to-key "argument-prefix" "\^u")
(bind-to-key "backward-character" "\^b")
(bind-to-key "backward-paragraph" "\e(")
(bind-to-key "backward-sentence" "\ea")
(bind-to-key "backward-word" "\eb")
(bind-to-key "beginning-of-file" "\e<")
(bind-to-key "beginning-of-line" "\^a")
(bind-to-key "beginning-of-window" "\e,")
(bind-to-key "case-region-invert" "\e\^^")
(bind-to-key "case-word-invert" "\e^")
(bind-to-key "case-word-lower" "\el")
(bind-to-key "case-word-upper" "\eu")
(bind-to-key "column-to-left-of-window" "\e@")
(bind-to-key "compile-it" "\^x\^e")
(bind-to-key "debug" "\e\^d")
(bind-to-key "delete-next-character" "\^d")
(bind-to-key "delete-next-word" "\ed")
(bind-to-key "delete-other-windows" "\^x1")
(bind-to-key "delete-previous-character" "\^h")
(bind-to-key "delete-previous-character" "\177")
(bind-to-key "delete-previous-word" "\eh")
(bind-to-key "delete-region-to-buffer" "\e\^w")
(bind-to-key "delete-to-killbuffer" "\^w")
(bind-to-key "delete-window" "\^xd")
(bind-to-key "describe-word-in-buffer" "\^x\^d")
(progn char
    (setq char '0')
    (while (<= char '9')
        (bind-to-key "digit" char)
        (bind-to-key "meta-digit" (concat "\e" (char-to-string char)))
        (setq char (+ 1 char))
    )
)
(bind-to-key "end-of-file" "\e>")
(bind-to-key "end-of-line" "\^e")
(bind-to-key "end-of-window" "\e.")
(bind-to-key "enlarge-window" "\^xz")
(bind-to-key "exchange-dot-and-mark" "\^x\^x")
(bind-to-key "execute-extended-command" "\ex")
(bind-to-key "execute-keyboard-macro" "\^xe")
(bind-to-key "execute-mlisp-line" "\e\e")
(bind-to-key "execute-monitor-command" "\^x!")
(bind-to-key "exit-emacs" "\^c")
(bind-to-key "exit-emacs" "\^x\^c")
(bind-to-key "exit-emacs" "\e\^c")
(bind-to-key "forward-character" "\^f")
(bind-to-key "forward-paragraph" "\e)")
(bind-to-key "forward-sentence" "\ee")
(bind-to-key "forward-word" "\ef")
(bind-to-key "illegal-operation" "\^g")
(bind-to-key "indent-C-procedure" "\ej")
(bind-to-key "insert-file" "\^x\^i")
(bind-to-key "kill-compilation" "\^x\^K")
(bind-to-key "kill-to-end-of-line" "\^k")
(bind-to-key "line-to-top-of-window" "\e!")
(bind-to-key "list-buffers" "\^x\^b")
(progn char
    (setq char '0')
    (while (<= '9' char)
        (bind-to-key "meta-digit" (concat "\e" (char-to-string char)))
        (setq char (+ 1 char))
    )
)
(bind-to-key "meta-minus" "\e-")
(bind-to-key "minus" "-")
(bind-to-key "newline" "\^m")
(bind-to-key "newline-and-backup" "\^o")
(bind-to-key "newline-and-indent" "\^j")
(bind-to-key "next-error" "\^x\^n")
(bind-to-key "next-line" "\^n")
(bind-to-key "next-page" "\^v")
(bind-to-key "next-window" "\^xn")
(bind-to-key "page-next-window" "\e\^v")
(bind-to-key "previous-error" "\^x\^p")
(bind-to-key "previous-line" "\^p")
(bind-to-key "previous-page" "\ev")
(bind-to-key "previous-window" "\^xp")
(bind-to-key "query-replace-string" "\eq")
(bind-to-key "quote-character" "\^q")
(bind-to-key "quote-character" "\^^q")
(bind-to-key "read-file" "\^x\^r")
(bind-to-key "redraw-display" "\^l")
(bind-to-key "replace-string" "\er")
(bind-to-key "return-to-monitor" "\^_")
(bind-to-key "scroll-one-line-down" "\ez")
(bind-to-key "scroll-one-line-up" "\^z")
(bind-to-key "search-forward" "\^s")
(bind-to-key "search-forward" "\^^s")
(bind-to-key "search-reverse" "\^r")
(bind-to-key "set-mark" "\0")
(bind-to-key "shrink-window" "\^x\^z")
(bind-to-key "split-current-window" "\^x2")
(bind-to-key "split-current-window-vertically" "\^x3")
(bind-to-key "start-remembering" "\^x(")
(bind-to-key "stop-remembering" "\^x)")
(bind-to-key "switch-to-buffer" "\^xb")
(bind-to-key "transpose-characters" "\^t")
(bind-to-key "new-undo" "\^x\^u")
(bind-to-key "unset-mark" "\^x\0")
(bind-to-key "use-old-buffer" "\^x\^o")
(bind-to-key "visit-file" "\^x\^v")
(bind-to-key "write-current-file" "\^x\^s")
(bind-to-key "write-current-file" "\^X\^^s")
(bind-to-key "write-file-exit" "\^x\^f")
(bind-to-key "write-modified-files" "\^x\^m")
(bind-to-key "write-named-file" "\^x\^w")
(bind-to-key "what-cursor-position" "\^x=")
(bind-to-key "yank-buffer" "\e\^y")
(bind-to-key "yank-from-killbuffer" "\^y")
(bind-to-key "help-key" "\^_")
(bind-to-key "interrupt-key" "\^G")

;
; Set up the Mini-buffer keymaps
;
(save-excursion
    (temp-use-buffer "setup-default-keybindings")
    (use-local-map "Minibuf-local-map")
    (local-bind-to-key "error-and-exit" "\^g")
    (local-bind-to-key "expand-and-exit" "\e")
    (local-bind-to-key "exit-emacs" "\^m")
    (local-bind-to-key "exit-emacs" "\^j")
    (local-bind-to-key "ESC-prefix" "\034")  ; Ctrl-\
)
(save-excursion
    (temp-use-buffer "setup-default-keybindings")
    (use-local-map "Minibuf-local-NS-map")
    (local-bind-to-key "error-and-exit" "\^g")
    (local-bind-to-key "expand-and-exit" " ")
    (local-bind-to-key "expand-and-exit" "\t")
    (local-bind-to-key "expand-and-exit" "\e")
    (local-bind-to-key "exit-emacs" "\^m")
    (local-bind-to-key "exit-emacs" "\^j")
    (local-bind-to-key "ESC-prefix" "\034")  ; ctrl-\
    (local-bind-to-key "help-and-exit" "?")
)
(error-occurred (delete-buffer "setup-default-keybindings"))

(if (is-unix-operating-system)
    (bind-to-key "man-word-in-buffer" "\^xm")
)
